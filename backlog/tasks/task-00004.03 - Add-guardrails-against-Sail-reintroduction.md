---
id: task-00004.03
title: Add guardrails against Sail reintroduction
status: In Progress
assignee:
  - codex
created_date: '2025-11-05 09:24'
updated_date: '2025-11-05 09:40'
labels: []
dependencies: []
parent_task_id: task-00004
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Implement automation (e.g., Git hook) that fails when Sail dependencies or artifacts are staged.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [ ] #1 Repository contains a pre-commit hook (or equivalent script) checking for laravel/sail references.
- [ ] #2 Instructions cover enabling the hook.
- [ ] #3 Hook behaves safely when triggered (non-zero exit with helpful message).
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
- Add `.githooks/pre-commit` script that inspects staged changes for Sail-related indicators (composer references, vendor paths, sail CLI).
- Ensure script prints a clear error and exits non-zero when Sail is detected, otherwise exits quietly.
- Confirm README documents how to enable hooks (covered in documentation task).
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
Added `.githooks/pre-commit` bash script that inspects staged files for Sail references (composer dependencies, vendor artifacts, Sail CLI commands) and exits with guidance if detected. Hook is executable and documented in README.
<!-- SECTION:NOTES:END -->
