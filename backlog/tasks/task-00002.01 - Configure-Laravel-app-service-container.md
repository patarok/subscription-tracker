---
id: task-00002.01
title: Configure Laravel app service container
status: Done
assignee:
  - codex
created_date: '2025-11-04 22:28'
updated_date: '2025-11-05 08:11'
labels: []
dependencies: []
parent_task_id: task-00002
ordinal: 1000
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Define the Laravel 12 application container in Docker Compose with the necessary environment variables and networking so nginx can proxy to it.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 `app` service uses the Laravel application image and mounts the project code for development.
- [x] #2 Environment variables for Laravel (app key, database, cache, mail, queue) are provided via Compose or `.env` passthrough.
- [x] #3 Service exposes port 9000 internally so nginx can reach PHP-FPM.
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
- Create `docker/php/Dockerfile` based on provided example, adding Composer, Node/Yarn, Redis extension, Xdebug, and configurable www UID/GID.
- Add PHP configuration snippets (e.g., `docker/php/conf.d/custom.ini` and `docker/php/conf.d/xdebug.ini`) covering Laravel defaults and Xdebug setup.
- Update project to include a simple PHP entrypoint (Hello World) in `public/index.php` if not present, ensuring FPM serves port 9000.
- Define volume mappings and environment variables for the `app` service to connect to database, cache, mail, and queue backends.
- Ensure resulting image tagged `laravel-app:latest` is referenced consistently for reuse by other services.
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
Implemented PHP-FPM image build at docker/php/Dockerfile with required extensions, Composer, Node/Yarn, and Xdebug configuration hooks. Added PHP runtime overrides under docker/php/conf.d and placeholder public/index.php Hello World served over FPM.
<!-- SECTION:NOTES:END -->
