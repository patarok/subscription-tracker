---
id: task-00003.02
title: Align Laravel environment configuration with Docker stack
status: Done
assignee:
  - codex
created_date: '2025-11-05 08:35'
updated_date: '2025-11-05 08:57'
labels: []
dependencies: []
parent_task_id: task-00003
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Update Laravel configuration files so the new framework install uses the existing Docker services for database, cache, mail, and queues.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 `.env` and `.env.example` reflect the compose defaults (DB, Redis, Mailhog, APP_URL).
- [x] #2 Storage/bootstrap directories are writable by the container user.
- [x] #3 Laravel-specific Docker artifacts (Sail, etc.) are cleaned up or ignored as appropriate.
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
- Update `.env` and `.env.example` with values that match docker-compose (DB host `db`, user/password, Redis host/dbs, Mailhog settings, APP_URL http://localhost:8000).
- Remove or ignore Laravel Sail docker files and ensure `.gitignore` includes vendor/node_modules/build artifacts.
- Ensure `storage` and `bootstrap/cache` directories exist and are writable (create `.gitkeep` where needed and adjust permissions if necessary).
- Remove placeholder `_scaffold` or move it to clean state once aligned.
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
Updated `.env` and `.env.example` to match docker-compose defaults (mysql connection to db host, Redis cache/session DBs, Mailhog SMTP, queue/session redis, APP_URL http://localhost:8000). Adjusted docker-compose environment anchor to use `CACHE_STORE` and quoted APP_NAME. Removed temporary `_scaffold` directory after fixing ownership via container, and ensured `storage`/`bootstrap/cache` directories have writable permissions.
<!-- SECTION:NOTES:END -->
